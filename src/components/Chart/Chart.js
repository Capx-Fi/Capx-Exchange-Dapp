import "./TradesScreen.scss";
import React from "react";
import { render } from "react-dom";
import Highcharts from "highcharts/highstock";
import HighchartsReact from "highcharts-react-official";
import * as d3 from "d3";
import { sortIncomingData } from "../../GraphData/datafunc";
const inputJson = require("../../GraphData/data.json");

var data = [
  [1529328600000, 187.88, 189.22, 187.2, 188.74, 18484900],
  [1529415000000, 185.14, 186.33, 183.45, 185.69, 33578500],
  [1529501400000, 186.35, 187.2, 185.73, 186.5, 20628700],
  [1529587800000, 187.25, 188.35, 184.94, 185.46, 25711900],
  [1529674200000, 186.12, 186.15, 184.7, 184.92, 27200400],
  [1529933400000, 183.4, 184.92, 180.73, 182.17, 31663100],
  [1530019800000, 182.99, 186.53, 182.54, 184.43, 24569200],
  [1530106200000, 185.23, 187.28, 184.03, 184.16, 25285300],
  [1530192600000, 184.1, 186.21, 183.8, 185.5, 17365200],
  [1530279000000, 186.29, 187.19, 182.91, 185.11, 22737700],
  [1530538200000, 183.82, 187.3, 183.42, 187.18, 17731300],
  [1530624600000, 187.79, 187.95, 183.54, 183.92, 13954800],
  [1530797400000, 185.26, 186.41, 184.28, 185.4, 16604200],
  [1530883800000, 185.42, 188.43, 185.2, 187.97, 17485200],
  [1531143000000, 189.5, 190.68, 189.3, 190.58, 19756600],
  [1531229400000, 190.71, 191.28, 190.18, 190.35, 15939100],
  [1531315800000, 188.5, 189.78, 187.61, 187.88, 18831500],
  [1531402200000, 189.53, 191.41, 189.31, 191.03, 18041100],
  [1531488600000, 191.08, 191.84, 190.9, 191.33, 12513900],
  [1531747800000, 191.52, 192.65, 190.42, 190.91, 15043100],
  [1531834200000, 189.75, 191.87, 189.2, 191.45, 15534500],
  [1531920600000, 191.78, 191.8, 189.93, 190.4, 16393400],
  [1532007000000, 189.69, 192.55, 189.69, 191.88, 20286800],
  [1532093400000, 191.78, 192.43, 190.17, 191.44, 20676200],
  [1532352600000, 190.68, 191.96, 189.56, 191.61, 15989400],
  [1532439000000, 192.45, 193.66, 192.05, 193, 18697900],
  [1532525400000, 193.06, 194.85, 192.43, 194.82, 16709900],
  [1532611800000, 194.61, 195.96, 193.61, 194.21, 19076000],
  [1532698200000, 194.99, 195.19, 190.1, 190.98, 24024000],
  [1532957400000, 191.9, 192.2, 189.07, 189.91, 21029500],
  [1533043800000, 190.3, 192.14, 189.34, 190.29, 39373000],
  [1533130200000, 199.13, 201.76, 197.31, 201.5, 67935700],
  [1533216600000, 200.58, 208.38, 200.35, 207.39, 62404000],
  [1533303000000, 207.03, 208.74, 205.48, 207.99, 33447400],
  [1533562200000, 208, 209.25, 207.07, 209.07, 25425400],
  [1533648600000, 209.32, 209.5, 206.76, 207.11, 25587400],
  [1533735000000, 206.05, 207.81, 204.52, 207.25, 22525500],
  [1533821400000, 207.28, 209.78, 207.2, 208.88, 23469200],
  [1533907800000, 207.36, 209.1, 206.67, 207.53, 24611200],
  [1534167000000, 207.7, 210.95, 207.7, 208.87, 25869100],
  [1534253400000, 210.16, 210.56, 208.26, 209.75, 20748000],
  [1534339800000, 209.22, 210.74, 208.33, 210.24, 28807600],
  [1534426200000, 211.75, 213.81, 211.47, 213.32, 28500400],
  [1534512600000, 213.44, 217.95, 213.16, 217.58, 35427000],
  [1534771800000, 218.1, 219.18, 215.11, 215.46, 30287700],
  [1534858200000, 216.8, 217.19, 214.03, 215.04, 26159800],
  [1534944600000, 214.1, 216.36, 213.84, 215.05, 19018100],
  [1535031000000, 214.65, 217.05, 214.6, 215.49, 18883200],
  [1535117400000, 216.6, 216.9, 215.11, 216.16, 18476400],
  [1535376600000, 217.15, 218.74, 216.33, 217.94, 20525100],
  [1535463000000, 219.01, 220.54, 218.92, 219.7, 22776800],
  [1535549400000, 220.15, 223.49, 219.41, 222.98, 27254800],
  [1535635800000, 223.25, 228.26, 222.4, 225.03, 48793800],
  [1535722200000, 226.51, 228.87, 226, 227.63, 43340100],
  [1536067800000, 228.41, 229.18, 226.63, 228.36, 27390100],
  [1536154200000, 228.99, 229.67, 225.1, 226.87, 33333000],
  [1536240600000, 226.23, 227.35, 221.3, 223.1, 34290000],
  [1536327000000, 221.85, 225.37, 220.71, 221.3, 37619800],
  [1536586200000, 220.95, 221.85, 216.47, 218.33, 39516500],
  [1536672600000, 218.01, 224.3, 216.56, 223.85, 35749000],
  [1536759000000, 224.94, 225, 219.84, 221.07, 49278700],
  [1536845400000, 223.52, 228.35, 222.57, 226.41, 41706400],
  [1536931800000, 225.75, 226.84, 222.52, 223.84, 31999300],
  [1537191000000, 222.15, 222.95, 217.27, 217.88, 37195100],
  [1539783000000, 222.3, 222.64, 219.34, 221.19, 22885400],
  [1539869400000, 217.86, 219.74, 213, 216.02, 32581300],
  [1539955800000, 218.06, 221.26, 217.43, 219.31, 33078700],
  [1540215000000, 219.79, 223.36, 218.94, 220.65, 28792100],
  [1540301400000, 215.83, 223.25, 214.7, 222.73, 38767800],
  [1540387800000, 222.6, 224.23, 214.54, 215.09, 40925500],
  [1540474200000, 217.71, 221.38, 216.75, 219.8, 29855800],
  [1540560600000, 215.9, 220.19, 212.67, 216.3, 47258400],
  [1540819800000, 219.19, 219.69, 206.09, 212.24, 45935500],
  [1540906200000, 211.15, 215.18, 209.27, 213.3, 36660000],
  [1540992600000, 216.88, 220.45, 216.62, 218.86, 38358900],
  [1541079000000, 219.05, 222.36, 216.81, 222.22, 58323200],
  [1541165400000, 209.55, 213.65, 205.43, 207.48, 91328700],
  [1541428200000, 204.3, 204.39, 198.17, 201.59, 66163700],
  [1541514600000, 201.92, 204.72, 201.69, 203.77, 31882900],
  [1541601000000, 205.97, 210.06, 204.13, 209.95, 33424400],
  [1541687400000, 209.98, 210.12, 206.75, 208.49, 25362600],
  [1541773800000, 205.55, 206.01, 202.25, 204.47, 34365800],
  [1542033000000, 199, 199.85, 193.79, 194.17, 51135500],
  [1542119400000, 191.63, 197.18, 191.45, 192.23, 46882900],
  [1542205800000, 193.9, 194.48, 185.93, 186.8, 60801000],
  [1542292200000, 188.39, 191.97, 186.9, 191.41, 46478800],
  [1542378600000, 190.5, 194.97, 189.46, 193.53, 36928300],
  [1542637800000, 190, 190.7, 184.99, 185.86, 41925300],
  [1542724200000, 178.37, 181.47, 175.51, 176.98, 67825200],
  [1542810600000, 179.73, 180.27, 176.55, 176.78, 31124200],
  [1542983400000, 174.94, 176.6, 172.1, 172.29, 23624000],
  [1543242600000, 174.24, 174.95, 170.26, 174.62, 44998500],
  [1543329000000, 171.51, 174.77, 170.88, 174.24, 41387400],
  [1543415400000, 176.73, 181.29, 174.93, 180.94, 46062500],
  [1543501800000, 182.66, 182.8, 177.7, 179.55, 41770000],
  [1543588200000, 180.29, 180.33, 177.03, 178.58, 39531500],
  [1543847400000, 184.46, 184.94, 181.21, 184.82, 40802500],
  [1543933800000, 180.95, 182.39, 176.27, 176.69, 41344300],
  [1544106600000, 171.76, 174.78, 170.42, 174.72, 43098400],
  [1544193000000, 173.49, 174.49, 168.3, 168.49, 42281600],
  [1544452200000, 165, 170.09, 163.33, 169.6, 62026000],
  [1544538600000, 171.66, 171.79, 167, 168.63, 47281700],
  [1544625000000, 170.4, 171.92, 169.02, 169.1, 35627700],
  [1544711400000, 170.49, 172.57, 169.55, 170.95, 31898600],
  [1544797800000, 169, 169.08, 165.28, 165.48, 40703700],
  [1545057000000, 165.45, 168.35, 162.73, 163.94, 44287900],
  [1545143400000, 165.38, 167.53, 164.39, 166.07, 33841500],
  [1545229800000, 166, 167.45, 159.09, 160.89, 49047300],
  [1545316200000, 160.4, 162.11, 155.3, 156.83, 64773000],
  [1545402600000, 156.86, 158.16, 149.63, 150.73, 95744600],
  [1545661800000, 148.15, 151.55, 146.59, 146.83, 37169200],
  [1545834600000, 148.3, 157.23, 146.72, 157.17, 58582500],
  [1545921000000, 155.84, 156.77, 150.07, 156.15, 53117100],
  [1546007400000, 157.5, 158.52, 154.55, 156.23, 42291400],
  [1546266600000, 158.53, 159.36, 156.48, 157.74, 35003500],
  [1546439400000, 154.89, 158.85, 154.23, 157.92, 37039700],
];
Highcharts.theme = {
  colors: ["#a83425", "#57b35a"],
  chart: {
    backgroundColor: null,
    plotBorderColor: "#606063",
  },
  credits: {
    enabled: false,
  },
  title: {
    style: {
      color: "#E0E0E3",
      textTransform: "uppercase",
      fontSize: "20px",
    },
  },
  subtitle: {
    style: {
      color: "#E0E0E3",
      textTransform: "uppercase",
    },
  },
  xAxis: {
    gridLineColor: "#707073",
    labels: {
      style: {
        color: "#E0E0E3",
      },
    },
    lineColor: "#707073",
    minorGridLineColor: "#505053",
    tickColor: "#707073",
    title: {
      style: {
        color: "#A0A0A3",
      },
    },
  },
  yAxis: {
    gridLineColor: "#707073",
    labels: {
      style: {
        color: "#E0E0E3",
      },
    },
    lineColor: "#707073",
    minorGridLineColor: "#505053",
    tickColor: "#707073",
    tickWidth: 1,
    title: {
      style: {
        color: "#A0A0A3",
      },
    },
  },
  tooltip: {
    backgroundColor: "rgba(0, 0, 0, 0.85)",
    style: {
      color: "#F0F0F0",
    },
  },
  plotOptions: {
    series: {
      dataLabels: {
        color: "#B0B0B3",
      },
      marker: {
        lineColor: "#333",
      },
    },
    boxplot: {
      fillColor: "#505053",
    },
    candlestick: {
      color: "#a83425",
      upColor: "#57b35a",
      lineColor: "#a83425",
      upLineColor: "#57b35a",
    },
    errorbar: {
      color: "white",
    },
  },
  legend: {
    itemStyle: {
      color: "#E0E0E3",
    },
    itemHoverStyle: {
      color: "#FFF",
    },
    itemHiddenStyle: {
      color: "#606063",
    },
  },
  labels: {
    style: {
      color: "#707073",
    },
  },

  drilldown: {
    activeAxisLabelStyle: {
      color: "#F0F0F3",
    },
    activeDataLabelStyle: {
      color: "#F0F0F3",
    },
  },

  navigation: {
    buttonOptions: {
      symbolStroke: "#DDDDDD",
      theme: {
        fill: "#505053",
      },
    },
  },

  // scroll charts
  rangeSelector: {
    buttonTheme: {
      fill: "#505053",
      stroke: "#000000",
      style: {
        color: "#CCC",
      },
      states: {
        hover: {
          fill: "#707073",
          stroke: "#000000",
          style: {
            color: "white",
          },
        },
        select: {
          fill: "#000003",
          stroke: "#000000",
          style: {
            color: "white",
          },
        },
      },
    },
    inputBoxBorderColor: "#505053",
    inputStyle: {
      backgroundColor: "#333",
      color: "silver",
    },
    labelStyle: {
      color: "silver",
    },
  },

  navigator: {
    // handles: {
    //   backgroundColor: "#666",
    //   borderColor: "#AAA",
    // },
    // outlineColor: "#CCC",
    // maskFill: "rgba(255,255,255,0.1)",
    // series: {
    //   color: "#7798BF",
    //   lineColor: "#A6C7ED",
    // },
    // xAxis: {
    //   gridLineColor: "#505053",
    // },
    enabled: false,
  },

  scrollbar: {
    // barBackgroundColor: "#808083",
    // barBorderColor: "#808083",
    // buttonArrowColor: "#CCC",
    // buttonBackgroundColor: "#606063",
    // buttonBorderColor: "#606063",
    // rifleColor: "#FFF",
    // trackBackgroundColor: "#404043",
    // trackBorderColor: "#404043",
    enabled: false,
  },

  // special colors for some of the
  legendBackgroundColor: "rgba(0, 0, 0, 0.5)",
  background2: "#505053",
  dataLabelsColor: "#B0B0B3",
  textColor: "#C0C0C0",
  contrastTextColor: "#F0F0F3",
  maskColor: "rgba(255,255,255,0.3)",
};
Highcharts.setOptions(Highcharts.theme);

var ohlc = [],
  volume = [],
  dataLength = data.length,
  groupingUnits = [
    ["week", [1]],
    ["month", [2]],
  ],
  i = 0;

for (i; i < dataLength; i += 1) {
  ohlc.push([
    // Date.parse(groupData[i].date) / 1000,
    // Number(groupData[i].date),
    // Number(groupData[i].open),
    // Number(groupData[i].high),
    // Number(groupData[i].low),
    // Number(groupData[i].close),
    data[i][0], // the date
    data[i][1], // open
    data[i][2], // high
    data[i][3], // low
    data[i][4], // close
  ]);
}
const dataFormat = [{ date: "", open: "", high: "", low: "", close: "" }];
const options = {
  rangeSelector: {
    selected: 1,
    // enabled:false,

    inputEnabled: false,
    // buttonTheme: {
    //     visibility: 'hidden'
    // },
    labelStyle: {
      visibility: "hidden",
    },
    buttons: [
      {
        type: "all",
        count: 1,
        text: "1 W",
        title: "Weekly Grouping",
        // events: {
        //     click: function(e) {
        //       e.preventDefault();
        //         alert('Clicked button');
        //     }
        // }
      },
      {
        type: "month",
        count: 1,
        text: "1 D",
        title: "Monthly Grouping",
      },
    ],
  },

  title: {
    text: "USDT/CAPX",
  },

  yAxis: [
    {
      labels: {
        align: "right",
        x: -3,
      },
      //   title: {
      //     text: "OHLC",
      //   },
      height: "100%",
      lineWidth: 2,
      resize: {
        enabled: true,
      },
    },
  ],

  tooltip: {
    split: true,
  },

  series: [
    {
      type: "candlestick",
      name: "Price",
      data: ohlc,
      dataGrouping: {
        units: groupingUnits,
      },
    },
  ],
};
function TradesScreen() {
  return (
    <div className="tradesScreen">
      <div className="tradesScreen_chartContainer">
        <HighchartsReact
          highcharts={Highcharts}
          constructorType={"stockChart"}
          options={options}
        />
      </div>
    </div>
  );
}

export default TradesScreen;
